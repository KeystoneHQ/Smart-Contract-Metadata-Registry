{"name": "Gateway", "chainId": 56, "address": "0x2c2E1eE20C633EAe18239c0BF59cEf1FC44939aC", "metadata": {"output": {"abi": [{"inputs": [{"components": [{"internalType": "address", "name": "lToken", "type": "address"}, {"internalType": "address", "name": "pToken", "type": "address"}, {"internalType": "address", "name": "oracle", "type": "address"}, {"internalType": "address", "name": "swapper", "type": "address"}, {"internalType": "address", "name": "vault0", "type": "address"}, {"internalType": "address", "name": "iou", "type": "address"}, {"internalType": "address", "name": "tokenB0", "type": "address"}, {"internalType": "address", "name": "dChainEventSigner", "type": "address"}, {"internalType": "uint256", "name": "b0ReserveRatio", "type": "uint256"}, {"internalType": "int256", "name": "liquidationRewardCutRatio", "type": "int256"}, {"internalType": "int256", "name": "minLiquidationReward", "type": "int256"}, {"internalType": "int256", "name": "maxLiquidationReward", "type": "int256"}, {"internalType": "address", "name": "protocolFeeManager", "type": "address"}, {"internalType": "address", "name": "liqClaim", "type": "address"}, {"internalType": "address", "name": "switchOracle", "type": "address"}], "internalType": "struct IGateway.GatewayParam", "name": "p", "type": "tuple"}], "stateMutability": "nonpayable", "type": "constructor"}, {"inputs": [{"internalType": "int256", "name": "", "type": "int256"}], "name": "IToUOverflow", "type": "error"}, {"inputs": [], "name": "InsufficientB0", "type": "error"}, {"inputs": [], "name": "InsufficientExecutionFee", "type": "error"}, {"inputs": [], "name": "InsufficientMargin", "type": "error"}, {"inputs": [], "name": "InvalidBAmount", "type": "error"}, {"inputs": [], "name": "InvalidBPrice", "type": "error"}, {"inputs": [], "name": "InvalidBToken", "type": "error"}, {"inputs": [], "name": "InvalidLTokenId", "type": "error"}, {"inputs": [], "name": "InvalidPTokenId", "type": "error"}, {"inputs": [], "name": "InvalidRequestId", "type": "error"}, {"inputs": [], "name": "OnlyAdmin", "type": "error"}, {"inputs": [], "name": "Reentry", "type": "error"}, {"inputs": [], "name": "SendEthFail", "type": "error"}, {"inputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "name": "UtoIOverflow", "type": "error"}, {"inputs": [], "name": "WrongTokenInAmount", "type": "error"}, {"inputs": [], "name": "WrongTokenOutAmount", "type": "error"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "lTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "liquidity", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "totalLiquidity", "type": "uint256"}], "name": "FinishAddLiquidity", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "address", "name": "bToken", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "FinishAddMargin", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lpPnl", "type": "int256"}], "name": "FinishLiquidate", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "lTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "liquidity", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "totalLiquidity", "type": "uint256"}, {"indexed": false, "internalType": "address", "name": "bToken", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "FinishRemoveLiquidity", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "address", "name": "bToken", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "FinishRemoveMargin", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "newAdmin", "type": "address"}], "name": "NewAdmin", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "newImplementation", "type": "address"}], "name": "NewImplementation", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "realMoneyMargin", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}], "name": "RequestLiquidate", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "realMoneyMargin", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "RequestRemoveMargin", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "realMoneyMargin", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}, {"indexed": false, "internalType": "bytes32", "name": "symbolId", "type": "bytes32"}, {"indexed": false, "internalType": "int256[]", "name": "tradeParams", "type": "int256[]"}], "name": "RequestTrade", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "realMoneyMargin", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"indexed": false, "internalType": "bytes32", "name": "symbolId", "type": "bytes32"}, {"indexed": false, "internalType": "int256[]", "name": "tradeParams", "type": "int256[]"}], "name": "RequestTradeAndRemoveMargin", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "requestId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "lTokenId", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "liquidity", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "removeBAmount", "type": "uint256"}], "name": "RequestUpdateLiquidity", "type": "event"}, {"inputs": [{"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "address", "name": "vault", "type": "address"}, {"internalType": "bytes32", "name": "oracleId", "type": "bytes32"}, {"internalType": "uint256", "name": "collateralFactor", "type": "uint256"}], "name": "addBToken", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "admin", "outputs": [{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "to", "type": "address"}], "name": "claimDChainExecutionFee", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "dTokenId", "type": "uint256"}, {"internalType": "bool", "name": "isLp", "type": "bool"}], "name": "claimUnusedIChainExecutionFee", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "bToken", "type": "address"}], "name": "delBToken", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes", "name": "eventData", "type": "bytes"}, {"internalType": "bytes", "name": "signature", "type": "bytes"}], "name": "finishCollectProtocolFee", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes", "name": "eventData", "type": "bytes"}, {"internalType": "bytes", "name": "signature", "type": "bytes"}], "name": "finishLiquidate", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes", "name": "eventData", "type": "bytes"}, {"internalType": "bytes", "name": "signature", "type": "bytes"}], "name": "finishRemoveMargin", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes", "name": "eventData", "type": "bytes"}, {"internalType": "bytes", "name": "signature", "type": "bytes"}], "name": "finishUpdateLiquidity", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "bToken", "type": "address"}], "name": "getBTokenState", "outputs": [{"components": [{"internalType": "address", "name": "vault", "type": "address"}, {"internalType": "bytes32", "name": "oracleId", "type": "bytes32"}, {"internalType": "uint256", "name": "collateralFactor", "type": "uint256"}], "internalType": "struct IGateway.BTokenState", "name": "s", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "lTokenId", "type": "uint256"}], "name": "getCumulativeTime", "outputs": [{"internalType": "uint256", "name": "cumulativeTimePerLiquidity", "type": "uint256"}, {"internalType": "uint256", "name": "cumulativeTime", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "getExecutionFees", "outputs": [{"internalType": "uint256[]", "name": "fees", "type": "uint256[]"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "getGatewayParam", "outputs": [{"components": [{"internalType": "address", "name": "lToken", "type": "address"}, {"internalType": "address", "name": "pToken", "type": "address"}, {"internalType": "address", "name": "oracle", "type": "address"}, {"internalType": "address", "name": "swapper", "type": "address"}, {"internalType": "address", "name": "vault0", "type": "address"}, {"internalType": "address", "name": "iou", "type": "address"}, {"internalType": "address", "name": "tokenB0", "type": "address"}, {"internalType": "address", "name": "dChainEventSigner", "type": "address"}, {"internalType": "uint256", "name": "b0ReserveRatio", "type": "uint256"}, {"internalType": "int256", "name": "liquidationRewardCutRatio", "type": "int256"}, {"internalType": "int256", "name": "minLiquidationReward", "type": "int256"}, {"internalType": "int256", "name": "maxLiquidationReward", "type": "int256"}, {"internalType": "address", "name": "protocolFeeManager", "type": "address"}, {"internalType": "address", "name": "liqClaim", "type": "address"}, {"internalType": "address", "name": "switchOracle", "type": "address"}], "internalType": "struct IGateway.GatewayParam", "name": "p", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "getGatewayState", "outputs": [{"components": [{"internalType": "int256", "name": "cumulativePnlOnGateway", "type": "int256"}, {"internalType": "uint256", "name": "liquidityTime", "type": "uint256"}, {"internalType": "uint256", "name": "totalLiquidity", "type": "uint256"}, {"internalType": "int256", "name": "cumulativeTimePerLiquidity", "type": "int256"}, {"internalType": "uint256", "name": "gatewayRequestId", "type": "uint256"}, {"internalType": "uint256", "name": "dChainExecutionFeePerRequest", "type": "uint256"}, {"internalType": "uint256", "name": "totalIChainExecutionFee", "type": "uint256"}, {"internalType": "uint256", "name": "cumulativeCollectedProtocolFee", "type": "uint256"}], "internalType": "struct IGateway.GatewayState", "name": "s", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "lTokenId", "type": "uint256"}], "name": "getLpState", "outputs": [{"components": [{"internalType": "uint256", "name": "requestId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"internalType": "int256", "name": "b0Amount", "type": "int256"}, {"internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"internalType": "uint256", "name": "liquidity", "type": "uint256"}, {"internalType": "uint256", "name": "cumulativeTime", "type": "uint256"}, {"internalType": "uint256", "name": "lastCumulativeTimePerLiquidity", "type": "uint256"}, {"internalType": "uint256", "name": "lastRequestIChainExecutionFee", "type": "uint256"}, {"internalType": "uint256", "name": "cumulativeUnusedIChainExecutionFee", "type": "uint256"}], "internalType": "struct IGateway.LpState", "name": "s", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}], "name": "getTdState", "outputs": [{"components": [{"internalType": "uint256", "name": "requestId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"internalType": "int256", "name": "b0Amount", "type": "int256"}, {"internalType": "int256", "name": "lastCumulativePnlOnEngine", "type": "int256"}, {"internalType": "bool", "name": "singlePosition", "type": "bool"}, {"internalType": "uint256", "name": "lastRequestIChainExecutionFee", "type": "uint256"}, {"internalType": "uint256", "name": "cumulativeUnusedIChainExecutionFee", "type": "uint256"}], "internalType": "struct IGateway.TdState", "name": "s", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "implementation", "outputs": [{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "b0Amount", "type": "uint256"}], "name": "redeemIOU", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "lTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "requestAddLiquidity", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"internalType": "bool", "name": "singlePosition", "type": "bool"}], "name": "requestAddMargin", "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"internalType": "bytes32", "name": "symbolId", "type": "bytes32"}, {"internalType": "int256[]", "name": "tradeParams", "type": "int256[]"}, {"internalType": "bool", "name": "singlePosition", "type": "bool"}], "name": "requestAddMarginAndTrade", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}], "name": "requestLiquidate", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "lTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "requestRemoveLiquidity", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}], "name": "requestRemoveMargin", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"internalType": "bytes32", "name": "symbolId", "type": "bytes32"}, {"internalType": "int256[]", "name": "tradeParams", "type": "int256[]"}], "name": "requestTrade", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "pTokenId", "type": "uint256"}, {"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint256", "name": "bAmount", "type": "uint256"}, {"internalType": "bytes32", "name": "symbolId", "type": "bytes32"}, {"internalType": "int256[]", "name": "tradeParams", "type": "int256[]"}], "name": "requestTradeAndRemoveMargin", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "newAdmin", "type": "address"}], "name": "setAdmin", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "bToken", "type": "address"}, {"internalType": "uint8", "name": "idx", "type": "uint8"}, {"internalType": "bytes32", "name": "value", "type": "bytes32"}], "name": "setBTokenParameter", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "dChainExecutionFeePerRequest", "type": "uint256"}], "name": "setDChainExecutionFeePerRequest", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "actionId", "type": "uint256"}, {"internalType": "uint256", "name": "executionFee", "type": "uint256"}], "name": "setExecutionFee", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "newImplementation", "type": "address"}], "name": "setImplementation", "outputs": [], "stateMutability": "nonpayable", "type": "function"}]}}, "version": 1, "checkPoints": [], "isProxy": true, "principalAddress": "0x27d11794B24cCCA9CF37d6Db187E26dFD202ab86"}